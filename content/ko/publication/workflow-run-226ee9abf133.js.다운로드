"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["workflow-run"],{23419:(t,e,i)=>{i.d(e,{x:()=>o});async function o(t){try{let e=await fetch(t,{credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(e.ok)return await e.json()}catch{}return null}},29755:(t,e,i)=>{i.d(e,{G:()=>o,y:()=>SignalRSocket});var o,n=i(28556),s=i(23419);function r(t,e,i){return function(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}(t,e),!function(t,e){if(void 0===t)throw TypeError("attempted to get private static field before its declaration")}(i,0),i.get?i.get.call(t):i.value}!function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(o||(o={}));let SignalRSocket=class SignalRSocket extends EventTarget{static getInstance(t){return r(SignalRSocket,SignalRSocket,a).has(t)||r(SignalRSocket,SignalRSocket,a).set(t,new SignalRSocket(t)),r(SignalRSocket,SignalRSocket,a).get(t)}socketDidReceiveMessage(t,e){let i=JSON.parse(e.split(SignalRSocket.RECORD_SEPARATOR)[0]);this.dispatchEvent(new CustomEvent("socketDidReceiveMessage",{detail:i})),7===i.type&&t.close()}socketDidOpen(){this.handshake()}socketDidClose(){}socketDidFinish(){this.globalSocket=null,this.shouldTryAgainWithNewSocket&&(this.shouldTryAgainWithNewSocket=!1,setTimeout(()=>this.startOrContinueStreaming(this.xhrConnectionUrl,!0),Math.floor(Math.random()*SignalRSocket.JITTER_MAX_MILLISECONDS)+SignalRSocket.JITTER_MIN_MILLISECONDS))}socketShouldRetry(t,e){return e===SignalRSocket.ABNORMAL_CLOSURE?(this.shouldTryAgainWithNewSocket=!0,!1):!this.isFatalStatusCode(e)}async startOrContinueStreaming(t,e=!1){this.xhrConnectionUrl||(this.xhrConnectionUrl=t),(!this.isStreaming||e)&&(this.isStreaming=!0,await this.tryStartNewStream(this.xhrConnectionUrl))}closeExistingSocket(){this.globalSocket&&(this.globalSocket.close(),this.globalSocket=null)}onStreamFailure(){this.dispatchEvent(new CustomEvent("onStreamFailure"))}get reconnectWindow(){return Math.floor(Math.random()*SignalRSocket.JITTER_MAX_MILLISECONDS)+SignalRSocket.JITTER_MIN_MILLISECONDS}async tryStartNewStream(t){try{let e=await this.retrieveSocketURL(t);if(!e)return;this.socketUrl=e,this.globalSocket=new n.Zl(this.socketUrl,this,{timeout:4e3,attempts:10}),await this.globalSocket.open()}catch(t){throw this.onStreamFailure(),t}}handshake(){let{searchParams:t}=new URL(this.socketUrl,window.location.origin),e=t.get("tenantId"),i=t.get("runId");if(e&&i){this.sendPayload({protocol:"json",version:1});let t={arguments:[e,+i],target:this.target,type:1};this.sendPayload(t)}}isFatalStatusCode(t){return t===SignalRSocket.POLICY_VIOLATION}sendPayload(t){this.globalSocket&&this.globalSocket.send(JSON.stringify(t)+SignalRSocket.RECORD_SEPARATOR)}constructor(t){super(),this.target=t,this.isStreaming=!1,this.shouldTryAgainWithNewSocket=!1,this.retrieveSocketURL=async t=>{let e=await (0,s.x)(t),i=e?.data.authenticated_url;if(!i)return null;let o=await (0,s.x)(i);return o?.logStreamWebSocketUrl??null}}};SignalRSocket.RECORD_SEPARATOR="\x1e",SignalRSocket.ABNORMAL_CLOSURE=1006,SignalRSocket.POLICY_VIOLATION=1008,SignalRSocket.JITTER_MIN_MILLISECONDS=100,SignalRSocket.JITTER_MAX_MILLISECONDS=400;var a={writable:!0,value:new Map}},16396:(t,e,i)=>{var o=i(39595);function n(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}let s=class AnnotationMessageElement extends HTMLElement{connectedCallback(){this.annotationTextComponent=this.annotationContainer.firstElementChild,this.initalizeEventListeners()}attributeChangedCallback(){this.expanded?(this.displayShowLessButton(),this.annotationContainer.classList.replace("annotation--contracted","annotation--expanded")):(this.displayShowMoreButton(),this.annotationContainer.classList.replace("annotation--expanded","annotation--contracted"))}toggleExpansion(){this.expanded=!this.expanded}calculateOverflow(){if(this.annotationTextComponent){let t=this.isEllipsisActive(this.annotationTextComponent);if(this.expanded){if(!t){let t=this.isAnnotationWrapped(this.annotationTextComponent);this.expanded&&t?this.displayShowLessButton():t?this.displayShowMoreButton():this.hideBothButtons()}}else t?this.displayShowMoreButton():this.hideBothButtons()}}displayShowLessButton(){this.setButtonHiddenProperties(!1,!0)}displayShowMoreButton(){this.setButtonHiddenProperties(!0,!1)}hideBothButtons(){this.setButtonHiddenProperties(!0,!0)}setButtonHiddenProperties(t,e){this.showLessButton.hidden=t,this.showMoreButton.hidden=e}initalizeEventListeners(){"ResizeObserver"in window?new ResizeObserver(()=>this.calculateOverflow()).observe(this.annotationTextComponent):window.addEventListener("resize",()=>this.calculateOverflow())}isEllipsisActive(t){return t.offsetWidth<t.scrollWidth}isAnnotationWrapped(t){let{lineHeight:e}=getComputedStyle(t),i=parseInt(e.split("px")[0]);return t.scrollHeight>i}constructor(...t){super(...t),this.expanded=!1}};s.observedAttributes=["data-expanded"],n([o.aC],s.prototype,"showMoreButton",void 0),n([o.aC],s.prototype,"showLessButton",void 0),n([o.aC],s.prototype,"annotationContainer",void 0),n([o.CF],s.prototype,"expanded",void 0),s=n([o.p_],s);var r=i(97797);(0,r.on)("click",".js-show-more-environments",function(t){let e=t.target.closest(".js-hidden-environments-container"),i=e.querySelector(".js-hidden-environments"),o=e.querySelector(".js-shown-environments");o&&o.classList.add("d-none"),i&&i.classList.remove("d-none")}),(0,r.on)("click",".js-gates-dialog-environment-checkbox",function(t){let e=t.target,i=e.closest(".js-gates-dialog");if(null==i)return;let o=i.querySelector(".js-gates-approval-dialog-reject-button"),n=i.querySelector(".js-gates-approval-dialog-approve-button"),s=i.querySelector(".js-gates-approval-dialog-count-display");if(null!=o&&null!=n&&null!=s){let t=i.querySelectorAll(".js-gates-dialog-environment-checkbox:checked"),e=0===t.length;o.disabled=e,n.disabled=e,s.hidden=e,s.textContent=t.length.toString()}let r=e.closest(".ActionsApprovalOverlay-environment");r&&(e.checked?r.classList.add("selected-approval-environment"):r.classList.remove("selected-approval-environment"))});var a=i(5728),l=i(18292);function d(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}let h=class MouseDriver{setupListener(){document.body.addEventListener("pointerup",()=>this.up()),document.body.addEventListener("pointermove",t=>this.move(t)),this.graph.addEventListener("pointerdown",t=>this.down(t)),this.graph.addEventListener("pointermove",t=>this.move(t)),this.graph.addEventListener("click",t=>this.click(t),{capture:!0}),this.graph.addEventListener("wheel",t=>this.handleWheel(t),{capture:!1,passive:!1})}updateCursor(){this.dragging?this.graph.canvas.classList.add("dragging"):this.graph.canvas.classList.remove("dragging")}up(){this.dragging=!1,this.updateCursor()}click(t){(Math.abs(this.dragStartX-t.pageX)>5||Math.abs(this.dragStartY-t.pageY)>5)&&(t.preventDefault(),t.stopPropagation())}down(t){0!==t.button||this.dragging||(this.dragging=!0,this.dragStartX=t.pageX,this.dragStartY=t.pageY,this.lastPoint.x=t.pageX,this.lastPoint.y=t.pageY,this.updateCursor())}move(t){let e=t.pageX,i=t.pageY;if(this.dragging){let e=t.pageX-this.lastPoint.x,i=t.pageY-this.lastPoint.y;this.graph.dragMove(e,i)}this.lastPoint.x=e,this.lastPoint.y=i}handleWheel(t){let e=this.graph.getCurrentZoom();this.graph.setNormalizedZoom(this.graph.getCurrentZoom()-t.deltaY/100),this.graph.setFitToWindowBtnEnabled(!0),this.moveZoomOffset(t,e),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()}moveZoomOffset(t,e){let i=this.graph.visualGraph.getBoundingClientRect(),o=(this.graph.getCurrentZoom()-e)/e,n=t.clientX-i.left,s=t.clientY-i.top;this.graph.dragMove(-(n*o*1),-(s*o*1))}constructor(t){this.dragging=!1,this.graph=t,this.lastPoint={x:0,y:0},this.setupListener()}},c=class KeyDriver{moveBothX(t){this.graph.dragMove(t,0)}moveBothY(t){this.graph.dragMove(0,t)}down(t){let e=!0;switch(t.key){case"ArrowLeft":this.moveBothX(100);break;case"ArrowUp":this.moveBothY(30);break;case"ArrowRight":this.moveBothX(-100);break;case"ArrowDown":this.moveBothY(-30);break;default:e=!1}e&&t.preventDefault()}constructor(t){this.graph=t,this.graph.addEventListener("keydown",t=>this.down(t))}},u="active",p="active--in",g="active--out",m=class ActionGraphElement extends HTMLElement{async connectedCallback(){new h(this),new c(this),document.addEventListener("run-sidebar-job-enter",t=>this.jobEnter(t)),document.addEventListener("run-sidebar-job-leave",()=>this.jobLeave()),await a.K,this.drawLines(),this.fitToWindow(),this.visualGraph.style.opacity="1"}cancelEvent(t){t.preventDefault(),t.stopPropagation()}async updateJob({target:t}){await (0,l.le)(t),this.drawLines()}async expandMatrix(t){let e=t.target,i=e.closest("button")?.getAttribute("data-update-url"),o=e.closest(".js-graph-matrix");o&&i&&(o.setAttribute("data-url",i),await (0,l.le)(o),this.fitToWindow(!1),this.drawLines())}getCurrentZoom(){return this.currentZoom}dragMove(t,e){let i=Math.round((parseFloat(this.visualGraph.getAttribute("data-x"))||0)+t),o=Math.round((parseFloat(this.visualGraph.getAttribute("data-y"))||0)+e);this.visualGraph.style.transform=`translate(${i}px, ${o}px)`,this.visualGraph.setAttribute("data-x",`${i}`),this.visualGraph.setAttribute("data-y",`${o}`),this.setFitToWindowBtnEnabled(!0)}setFitToWindowBtnEnabled(t){this.zoomFit.disabled=!t}setNormalizedZoom(t){let e=t;e<this.minZoom?e=this.minZoom:t>this.MAX_ZOOM&&(e=this.MAX_ZOOM),this.setZoom(e)}in(){this.zoomOut.disabled=!1,this.setFitToWindowBtnEnabled(!0),this.setNormalizedZoom(this.currentZoom+this.ZOOM_INCREMENT)}out(){this.zoomIn.disabled=!1,this.setFitToWindowBtnEnabled(!0),this.setNormalizedZoom(this.currentZoom-this.ZOOM_INCREMENT)}fit(){this.setFitToWindowBtnEnabled(!1),this.fitToWindow()}setZoomInBtnDisabled(t){this.zoomIn.disabled=t}setZoomOutBtnDisabled(t){this.zoomOut.disabled=t}setZoom(t){this.currentZoom=t,this.setZoomInBtnDisabled(this.MAX_ZOOM===this.currentZoom),this.setZoomOutBtnDisabled(this.minZoom===this.currentZoom),this.stages.style.transform=`scale(${this.currentZoom})`}fitToWindow(t=!0){let e=this.clientWidth-48,i=this.clientHeight-75,o=Math.min(Math.min(e/this.stages.clientWidth,i/this.stages.clientHeight),this.MAX_ZOOM);this.minZoom=Math.min(o,this.MAX_ZOOM),t&&(this.setZoom(o),this.visualGraph.style.transform="translate(0, 0)",this.visualGraph.setAttribute("data-x","0"),this.visualGraph.setAttribute("data-y","0"))}mouseEnter(t){this.setHighlightedGroup(t.target.id)}mouseLeave(){this.clearHighlightedGroups()}jobEnter(t){let e=t.detail?.jobId;if(!e)return;let i=this.matrices.find(t=>t.getAttribute("data-job-id")===e);i||(i=this.jobs.find(t=>t.getAttribute("data-job-id")===e));let o=i?.getAttribute("data-group-id");o&&this.setDownstreamHighlightGroups(o)}jobLeave(){this.clearHighlightedGroups()}setDownstreamHighlightGroups(t){if(this.allHighlightedGroupIds=[t],this.visualGraph.classList.add(u),this.toggleClasses(t,[u,g],!0),this.connectorLineHighlights.classList.add(u),!this.dependencies[t])return;let e=new Set(this.getDownstreamIds(t,0));for(let t of e)this.toggleClasses(t,[u,p,g],!0);for(let i of(this.allHighlightedGroupIds=this.allHighlightedGroupIds.concat([...e]),this.pathHighlights)){let o=i.getAttribute("data-from"),n=i.getAttribute("data-to");(o===t||e.has(o))&&e.has(n)&&i.classList.add(u)}}setHighlightedGroup(t){if(this.allHighlightedGroupIds=[t],this.visualGraph.classList.add(u),this.toggleClasses(t,[u,p,g],!0),this.connectorLineHighlights.classList.add(u),!this.dependencies[t])return;for(let e of this.dependencies[t]?.incoming??[])this.toggleClasses(e,[u,p],!0);for(let e of this.dependencies[t]?.outgoing??[])this.toggleClasses(e,[u,g],!0);let e=new Set([t,...this.dependencies[t].incoming,...this.dependencies[t].outgoing]);for(let i of(this.allHighlightedGroupIds=[...e],this.pathHighlights)){let o=i.getAttribute("data-from"),n=i.getAttribute("data-to");(o===t||n===t)&&(e.has(o)||e.has(n))&&i.classList.add(u)}}getDownstreamIds(t,e){if(e>=256)return[];let i=[];for(let o of this.dependencies[t]?.incoming??[])i.push(o),i=i.concat(this.getDownstreamIds(o,e+1));return i}toggleClasses(t,e,i){let o=document.getElementById(t);if(o)for(let t of e)o.classList.toggle(t,i)}clearHighlightedGroups(){if(this.visualGraph.classList.remove(u),0===this.allHighlightedGroupIds.length)return;let t=[u,p,g];for(let e of this.allHighlightedGroupIds){let i=document.getElementById(e);if(i)for(let e of t)i.classList.remove(e)}for(let t of this.pathHighlights)t.classList.remove(u);this.allHighlightedGroupIds=[]}drawLines(){for(let t of this.connectorLines)t.setAttribute("width",`${this.stages.clientWidth}`),t.setAttribute("height",`${this.stages.clientHeight}`);let t=24;for(let e of(this.dependencies={},this.paths.reduce((e,i)=>{let o=this.getLineTarget(i.getAttribute("data-from")),n=this.getLineTarget(i.getAttribute("data-to"));if(!o||!n)return e;let s={path:i,from:o,to:n,direction:this.getPathDirection(o,n)};if(""!==s.direction){let e=Math.abs(o.rect.y-n.rect.y)/2;t=Math.min(t,e)}for(let[t,e,i]of[[o.id,n.id,"incoming"],[n.id,o.id,"outgoing"]])this.dependencies[t]?this.dependencies[t][i].push(e):this.dependencies[t]={incoming:[],outgoing:[],[i]:[e]};return e.push(s),e},[])))this.renderLine(e,t)}getLineTarget(t){if(!t)return;let e=document.getElementById(t);if(e)return{id:t,rect:this.getRect(e),isGroup:!!e?.classList?.contains("WorkflowCard-group")}}renderLine(t,e){let i=this.getPath(e,t.from,t.to,t.direction);t.path.setAttribute("d",i)}getPathDirection(t,e){let i=t.rect,o=e.rect;return i.y===o.y?"":i.x<o.x?i.y>o.y?"up":"down":i.y>o.y?"down":"up"}getRect(t){let e=23;t.classList&&t.classList.contains("WorkflowCard-group")&&(e=39);let i=t.parentElement,o=t.offsetLeft-i.offsetLeft;return{x:t.offsetLeft||0,y:e+(t.offsetTop||0),h:t.offsetHeight||0,w:t.offsetWidth||0,adjust:o}}getPath(t,e,i,o){let n=i.rect.adjust,s=e.rect,r=i.rect;if(s.y===r.y)return`M ${s.x+s.w} ${s.y} H ${r.x}`;if("down"===o){let e=r.x-28-t-n,i=s.y,o=e+t,a=r.y-t;return`
      M ${s.x+s.w} ${s.y}
      H ${e}
      C ${e+t/2} ${i} ${e+t} ${i+t/2} ${e+t} ${i+t}
      V ${a}
      C ${o} ${a+t/2} ${o+t/2} ${a+t} ${o+t} ${a+t}
      H ${r.x}`}if("up"===o){let e=r.x-28-t-n,i=s.y,o=e+t,a=r.y+t;return`
      M ${s.x+s.w} ${s.y}
      H ${e}
      C ${e+t/2} ${i} ${e+t} ${i-t/2} ${e+t} ${i-t}
      V ${a}
      C ${o} ${a-t/2} ${o+t/2} ${a-t} ${o+t} ${a-t}
      H ${r.x}`}return""}constructor(...t){super(...t),this.ZOOM_INCREMENT=.25,this.MAX_ZOOM=1,this.currentZoom=1,this.minZoom=1,this.allHighlightedGroupIds=[],this.dependencies={}}};d([o.aC],m.prototype,"canvas",void 0),d([o.aC],m.prototype,"visualGraph",void 0),d([o.aC],m.prototype,"zoomFit",void 0),d([o.aC],m.prototype,"zoomIn",void 0),d([o.aC],m.prototype,"zoomOut",void 0),d([o.aC],m.prototype,"stages",void 0),d([o.aC],m.prototype,"connectorLineHighlights",void 0),d([o.zV],m.prototype,"connectorLines",void 0),d([o.zV],m.prototype,"paths",void 0),d([o.zV],m.prototype,"pathHighlights",void 0),d([o.zV],m.prototype,"jobs",void 0),d([o.zV],m.prototype,"matrices",void 0),m=d([o.p_],m);var f=i(29755);function v(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function y(t,e){var i=v(t,e,"get");return i.get?i.get.call(t):i.value}function b(t,e,i){!function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function w(t,e,i){var o=v(t,e,"set");return!function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(t,o,i),i}function S(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}var C=new WeakMap,E=new WeakMap,k=new WeakMap,L=new WeakMap;let R=class StreamingGraphJobElement extends HTMLElement{connectedCallback(){y(this,L).observe(this,{attributes:!0,childList:!0,subtree:!0});let t=this.streamingUrl,{signal:e}=y(this,C);if(this.stepsFromResults&&this.addEventListener("socket:message",this.handleAliveEvent.bind(this)),!this.shouldStream||!t||this.allRunsConcluded()||this.stepsFromResults){y(this,C).abort(),y(this,E).closeExistingSocket();return}y(this,E).startOrContinueStreaming(t),y(this,E).addEventListener("socketDidReceiveMessage",t=>{t instanceof CustomEvent&&this.processSocketMessage(t.detail)},{signal:e})}disconnectedCallback(){this.removeEventListener("socket:message",this.handleAliveEvent.bind(this)),y(this,C).abort(),y(this,L).disconnect()}processSocketMessage(t){if(t.type!==f.G.Ping){if("stepProgressUpdates"===t.target)for(let e of t.arguments)for(let t of e)y(this,k).add(t.parentRecordId);this.handleStepUpdated()}}handleAliveEvent(t){let e=t?.detail;if(e&&e.name?.split(":")?.[0]==="actions_results"&&1===e.data.kind){let t=e.data.data;t.length>1&&t[0]&&(y(this,k).add(t[0].workflowJobRunBackendId),this.handleStepUpdated())}}handleStepUpdated(){for(let t of[...y(this,k)]){let e=document.querySelector(`streaming-graph-job[data-external-id="${t}"]`);if(e){let t="true"===e.getAttribute("data-concluded"),i=!!e.getAttribute("data-url");!t&&i&&(0,l.le)(e)}}}allRunsConcluded(){return 0===document.querySelectorAll("streaming-graph-job[data-concluded='false']").length}showTooltip(){if(!this.tooltip)return;let t=this.name.scrollWidth>this.name.clientWidth,e=null!=this.ellipsis;t||e?this.tooltip.style.display="":this.tooltip.style.display="none"}constructor(...t){super(...t),b(this,C,{writable:!0,value:void 0}),b(this,E,{writable:!0,value:void 0}),b(this,k,{writable:!0,value:void 0}),b(this,L,{writable:!0,value:void 0}),this.streamingUrl="",this.shouldStream=!1,this.stepsFromResults=!1,w(this,C,new AbortController),w(this,E,f.y.getInstance("WatchRunStepsProgressAsync")),w(this,k,new Set),w(this,L,new MutationObserver(()=>{this.showTooltip()}))}};function _(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}S([o.aC],R.prototype,"name",void 0),S([o.aC],R.prototype,"tooltip",void 0),S([o.aC],R.prototype,"ellipsis",void 0),S([o.CF],R.prototype,"streamingUrl",void 0),S([o.CF],R.prototype,"shouldStream",void 0),S([o.CF],R.prototype,"stepsFromResults",void 0),R=S([o.p_],R);let O=class JobAnnotationsElement extends HTMLElement{close(){this.bodyContainer.hidden=!0,this.closeButton.hidden=!0,this.openButton.hidden=!1}open(){this.bodyContainer.hidden=!1,this.closeButton.hidden=!1,this.openButton.hidden=!0}};_([o.aC],O.prototype,"closeButton",void 0),_([o.aC],O.prototype,"openButton",void 0),_([o.aC],O.prototype,"bodyContainer",void 0),O=_([o.p_],O);let M=class JobSummariesElement extends HTMLElement{connectedCallback(){document.addEventListener("click",this.checkForHashReset.bind(this))}disonnectedCallback(){document.removeEventListener("click",this.checkForHashReset.bind(this))}checkForHashReset(t){let e=this.querySelector("job-summary:target");if(!e||!(t.target instanceof HTMLElement)||e.contains(t.target))return;let i=window.scrollY;window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search),i&&window.scrollTo({top:i})}};function A(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}M=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}([o.p_],M);let x=class JobSummaryElement extends HTMLElement{connectedCallback(){this.isLoaded()||this.preloadIfPermalink(),this.fragment&&this.fragment.addEventListener("error",this.handleFragmentError.bind(this))}isLoaded(){return!this.fragment}loadSummary(){this.fragment&&(this.loadButton&&(this.loadButton.hidden=!0),this.error&&(this.error.hidden=!0),this.loader&&(this.loader.hidden=!1),this.fragment.src=new URL(this.contentPath,window.location.origin).toString())}retrySummary(){this.fragment&&(this.fragment.src="",this.loadSummary())}handleFragmentError(){this.loader&&(this.loader.hidden=!0),this.error&&(this.error.hidden=!1)}preloadIfPermalink(){`#${this.id}`===window.location.hash&&this.loadSummary()}};A([o.aC],x.prototype,"fragment",void 0),A([o.aC],x.prototype,"loadButton",void 0),A([o.aC],x.prototype,"retryButton",void 0),A([o.aC],x.prototype,"loader",void 0),A([o.aC],x.prototype,"error",void 0),A([o.CF],x.prototype,"contentPath",void 0),x=A([o.p_],x);let I=class RunSummaryElement extends HTMLElement{mouseEnterRerun(t){let e=t.target.getAttribute("data-job-id");e&&this.dispatchEvent(new CustomEvent("run-sidebar-job-enter",{detail:{jobId:e},bubbles:!0}))}mouseLeaveRerun(){this.dispatchEvent(new CustomEvent("run-sidebar-job-leave",{bubbles:!0}))}};I=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}([o.p_],I)},18679:(t,e,i)=>{i.d(e,{s:()=>AnalyticsClient});let o=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];var n=i(36301);let AnalyticsClient=class AnalyticsClient{constructor(t){this.options=t}get collectorUrl(){return this.options.collectorUrl}get clientId(){return this.options.clientId?this.options.clientId:(0,n.y)()}createEvent(t){return{page:location.href,title:document.title,context:{...this.options.baseContext,...function(){let t={};try{for(let[e,i]of new URLSearchParams(window.location.search)){let n=e.toLowerCase();o.includes(n)&&(t[n]=i)}return t}catch(t){return{}}}(),...t}}}sendPageView(t){let e=this.createEvent(t);this.send({page_views:[e]})}sendEvent(t,e){let i={...this.createEvent(e),type:t};this.send({events:[i]})}send({page_views:t,events:e}){let i=JSON.stringify({client_id:this.clientId,page_views:t,events:e,request_context:{referrer:function(){let t;try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(t){}}return""===t&&(t=document.referrer),t}(),user_agent:navigator.userAgent,screen_resolution:function(){try{return`${screen.width}x${screen.height}`}catch(t){return"unknown"}}(),browser_resolution:function(){let t=0,e=0;try{return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):null!=document.documentElement&&null!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):null!=document.body&&null!=document.body.clientWidth&&(e=document.body.clientWidth,t=document.body.clientHeight),`${e}x${t}`}catch(t){return"unknown"}}(),browser_languages:navigator.languages?navigator.languages.join(","):navigator.language||"",pixel_ratio:window.devicePixelRatio,timestamp:Date.now(),tz_seconds:-60*new Date().getTimezoneOffset()}});try{if(navigator.sendBeacon){navigator.sendBeacon(this.collectorUrl,i);return}}catch{}fetch(this.collectorUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:i,keepalive:!1})}}},70837:(t,e,i)=>{i.d(e,{O:()=>o});function o(t="ha"){let e;let i={};for(let o of Array.from(document.head.querySelectorAll(`meta[name^="${t}-"]`))){let{name:n,content:s}=o,r=n.replace(`${t}-`,"").replace(/-/g,"_");"url"===r?e=s:i[r]=s}if(!e)throw Error(`AnalyticsClient ${t}-url meta tag not found`);return{collectorUrl:e,...Object.keys(i).length>0?{baseContext:i}:{}}}}},t=>{var e=e=>t(t.s=e);t.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-7c534c","vendors-node_modules_scroll-anchoring_dist_scroll-anchoring_esm_js-node_modules_stacktrace-pa-a71630","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-3bbfa0","ui_packages_failbot_failbot_ts","ui_packages_updatable-content_updatable-content_ts"],()=>e(16396)),t.O()}]);
//# sourceMappingURL=workflow-run-cb7e2ff1149c.js.map